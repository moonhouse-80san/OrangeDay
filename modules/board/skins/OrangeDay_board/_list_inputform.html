
<load target="asset/autosize.min.js" type="body" />
<div  cond="$grant->manager" class='stickyTopBox'>
	<include target="opt_list/_list__opt_category.html" />
	<include target="opt_list/_list__opt_search.html" />
</div>
<include target="opt_list/_list__opt_notice.html" />

<div id="list-bd" class="bd-all list-bd-ul" cond="$grant->manager">
<!--@if(!$document_list && !$notice_list)-->
	<div class="no_documents">
	<!--@if($search_keyword)-->
		검색된 글이 없습니다.
	<!--@else-->
		{$lang->no_documents}
		<!-- include target="opt_read/_read_opt_urlinfo.html" / -->
	<!--@end-->
	</div>
<!--@else-->
<div id="list-bd-table" class="">
	<table  class="tbl_board">
		<thead>
			<!-- LIST HEADER -->
			<tr>				
				<th scope="col"><span>{$lang->no}</span></th>
				<th scope="col" class="vp" cond="$category_list">{$lang->category}</th>
				<block loop="$list_config=>$key,$val">
				<th scope="col" class="vp" cond="$val->type=='module_title' && $val->idx==-1"><span>{$lang->module_title}</span></th>
				<th scope="col" class="title" cond="$val->type=='title' && $val->idx==-1"><span>{$lang->title}</span></th>
				<th scope="col" cond="$val->type=='nick_name' && $val->idx==-1"><span>{$lang->writer}</span></th>
				<th scope="col" class="vp" cond="$val->type=='user_id' && $val->idx==-1"><span>{$lang->user_id}</span></th>
				<th scope="col" class="vp" cond="$val->type=='user_name' && $val->idx==-1"><span>{$lang->user_name}</span></th>
				<th scope="col" cond="$val->type=='regdate' && $val->idx==-1"><span><a href="{getUrl('sort_index','regdate','order_type',$order_type)}">{$lang->date}</a></span></th>
				<th scope="col" class="vp" cond="$val->type=='last_update' && $val->idx==-1"><span><a href="{getUrl('sort_index','update_order','order_type',$order_type)}">{$lang->last_update}</a></span></th>
				<th scope="col" class="vp" cond="$val->type=='last_post' && $val->idx==-1"><span><a href="{getUrl('sort_index','update_order','order_type',$order_type)}">{$lang->last_post}</a></span></th>
				<th scope="col" class="vp" cond="$val->type=='readed_count' && $val->idx==-1"><span><a href="{getUrl('sort_index','readed_count','order_type',$order_type)}">{$lang->readed_count}</a></span></th>
				<th scope="col" class="vp" cond="$val->type=='voted_count' && $val->idx==-1"><span><a href="{getUrl('sort_index','voted_count','order_type',$order_type)}">{$lang->voted_count}</a></span></th>
				<th scope="col" class="vp" cond="$val->type=='blamed_count' && $val->idx==-1"><span><a href="{getUrl('sort_index','blamed_count','order_type',$order_type)}">{$lang->blamed_count}</a></span></th>
				<th scope="col" class="vp" cond="$val->idx!=-1"><span><a href="{getUrl('sort_index', $val->eid, 'order_type', $order_type)}">{$val->name}</a></span></th>
				</block>
				<th scope="col" cond="$grant->manager"></th>
			</tr>
			<!-- /LIST HEADER -->
		</thead>
		<tbody cond="!$document_list && !$notice_list">
			<tr>
				<td colspan="{count($list_config)}"|cond="!$grant->manager" colspan="{count($list_config)+1}"|cond="$grant->manager">
					<div class="no_documents">
					<!--@if($search_keyword)-->
						검색된 글이 없습니다.
					<!--@else-->
						{$lang->no_documents}
						<!-- include target="opt_read/_read_opt_urlinfo.html" / -->
					<!--@end-->
					</div>
				</td>
			</tr>
		</tbody>
		<tbody cond="$document_list || $notice_list">
			<!-- LIST -->
			<tr loop="$document_list=>$no,$document" class="<!--@if(isset($document_srl) && $document_srl == $document->document_srl)--> readActive<!--@end-->">
				
				<td class="number">
				<!--@if($document->isSecret() && !$oDocument->isGranted())-->
					<i class='bx bxs-lock'></i>
				<!--@else-->
					<block cond="isset($document_srl) && $document_srl == $document->document_srl"><i class='bx bx-play'></i></block>
					<block cond="!isset($document_srl) || $document_srl != $document->document_srl">{$no}</block>
				<!--@end-->
				</td>
				<td class="category vp" cond="$category_list">{$category_list[$document->get('category_srl')]->title}</td>
				<block loop="$list_config=>$key,$val">
				<td class="module_title vp" cond="$val->type=='module_title' && $val->idx==-1">
					<a href="{getUrl('', 'mid', $document->get('mid'))}">{$document->get('module_title')}</a>
				</td>
				<td class="title" cond="$val->type=='title' && $val->idx==-1">
					<a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}" rel="nofollow">
					<!--@if($document->isSecret() && !$document->isGranted())-->
						{$lang->msg_is_secret} 
					<!--@elseif($document->isSecret() && $document->isGranted())-->
						{strip_tags($document->getTitle())}
					<!--@else-->
						{strip_tags($document->getTitle())}
					<!--@end-->
					</a>
					<span cond="$document->getCommentCount()"  class="count">
						<i class='bx bxs-message-rounded-dots com'></i>&nbsp;{$document->getCommentCount()}
					</span>
					<span cond="$document->printExtraImages(60*60*$mi->duration_new)" 
					class="newicon
					<!--@foreach($document->getExtraImages(60*60*$mi->duration_new) as $key=>$valz)-->
						<!--@if($valz == 'secret')--> S<!--@end-->
						<!--@if($valz == 'new')--> N<!--@end-->
						<!--@if($valz == 'update')--> U<!--@end-->
						<!--@if($valz == 'file')--> F<!--@end-->
					<!--@end-->">
						<block loop="$document->getExtraImages(60*60*$mi->duration_new) => $valz, $key">
							<block cond="$key == 'new'">N</block>
							<block cond="$key == 'update'">U</block>
						</block>
					</span>
				</td>
				<td class="author" cond="$val->type=='nick_name' && $val->idx==-1"><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false">{$document->getNickName()}</a></td>
				<td class="author" cond="$val->type=='user_id' && $val->idx==-1">{$document->getUserID()}</td>
				<td class="author" cond="$val->type=='user_name' && $val->idx==-1">{$document->getUserName()}</td>
				<td class="date" cond="$val->type=='regdate' && $val->idx==-1"><span>{getTimeGap($document->get('regdate'), "Y.m.d<br>H:i")}</span></td>
				<td class="date vp" cond="$val->type=='last_update' && $val->idx==-1"><span>{getTimeGap($document->get('last_update'), "Y.m.d<br>H:i")}</span></td>
				<td class="date vp" cond="$val->type=='last_post' && $val->idx==-1">
					<block cond="(int)($document->get('comment_count'))>0">
						<a href="{$document->getUrl()}#comment" title="Last Reply">
							{getTimeGap($document->get('last_update'), "Y.m.d")}
						</a>
						<span cond="$document->getLastUpdater()">
								<i>by</i> {$document->getLastUpdater()}
						</span>
					</block>
					<block cond="(int)($document->get('comment_count'))==0"></block>
				</td>
				<td class="read vp" cond="$val->type=='readed_count' && $val->idx==-1">{$document->get('readed_count')>0?$document->get('readed_count'):'0'}</td>
				<td class="voteNum vp" cond="$val->type=='voted_count' && $val->idx==-1">{$document->get('voted_count')!=0?$document->get('voted_count'):'0'}</td>
				<td class="voteNum vp" cond="$val->type=='blamed_count' && $val->idx==-1">{$document->get('blamed_count')!=0?$document->get('blamed_count'):'0'}</td>
				<td class="exvar vp" cond="$val->idx!=-1"><span>{$document->getExtraValueHTML($val->idx)}</span></td>
				</block>
				<td cond="$grant->manager" class="check"><input type="checkbox" name="cart" value="{$document->document_srl}" class="iCheck" title="Check This Article" onclick="doAddDocumentCart(this)" checked="checked"|cond="$document->isCarted()" /></td>
			</tr>
			<!-- /LIST -->
		</tbody>
	</table>
</div>
<!--@end-->	
</div>
<include cond="$grant->manager" target="opt_list/_list__opt_pagenavi.html" />
<include cond="$grant->manager" target="opt_list/_list__opt_btnbox.html" />

<div id="list_inputform" class="bd-all">

	<img class="zbxe_widget_output" widget="ap_form" skin="OrangeDay_ap_form" colorset="default" widget_cache="0m" use_title="Y" use_email="O" use_phone="O" use_international="N" use_content="N" use_password="N" privacy="F" privacy_file="terms1.html" use_recaptcha="N" redirect="M"
	target_module_srl="{$mi->module_srl}"
	use_category="N"
	use_extra_keys="A" 
	comment_status="O"
	status="O"
	option_title="상세 문의" 
	privacy_title="개인정보 수집·이용에 동의합니다." 
	/>

</div>

<script>
$(function(){
	autosize($('textarea'));
});
</script>